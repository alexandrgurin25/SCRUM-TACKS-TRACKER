# Сервис комментариев

Сервис комментариев — это микросервис на основе gRPC, предназначенный для управления комментариями к задачам в Scrum-подобном приложении. Он позволяет создавать и получать комментарии, связанные с задачами, используя PostgreSQL для постоянного хранения и Redis для кэширования.

---

## Возможности

- **Создание комментариев**: Добавление новых комментариев к задачам с заголовками и описаниями.
- **Получение комментариев**: Запрос всех комментариев для конкретной задачи с возможностью фильтрации по времени.
- **Кэширование**: Использование Redis для кэширования комментариев и повышения производительности.
- **Аутентификация**: Интеграция с сервисом аутентификации для проверки токенов пользователей (временно отключено в коде).

---

## Технологии

- **Go**: Основной язык программирования.
- **gRPC**: Для взаимодействия между сервисами.
- **PostgreSQL**: Постоянное хранилище для комментариев.
- **Redis**: Кэширование для снижения нагрузки на базу данных.
- **Docker**: Контейнеризация для удобного развертывания.

---

## Структура проекта
```
Comments/
├── cmd/ - Точка входа в приложение.
├── internal/ - Основная логика приложения.
│ ├── config/ - Управление конфигурацией.
│ ├── domain/ - Модели данных.
│ ├── grpc/ - Реализация gRPC-сервера и клиента.
│ ├── service/ - Бизнес-логика.
│ └── storage/ - Взаимодействие с базой данных и кэшем.
├── migrations/ - Скрипты миграций базы данных.
├── .env - Переменные окружения.
├── Dockerfile - Конфигурация Docker для сервиса.
├── docker-compose.yml - Оркестрация PostgreSQL и Redis.
├── go.mod - Зависимости Go.
└── README.md - Документация проекта.
```


---

## Начало работы

### Предварительные требования

- Go 1.24+
- Docker и Docker Compose
- PostgreSQL
- Redis

### Установка

1. Переходите в директорию
 ```bash
 cd comments 
 ```

2. Настройте переменные окружения, скопировав .env.example в .env и обновив значения:
```bash
cp .env.example .env
```

3. Запустить сервис с помощью Docker Compouse:
```bash
docker compose up -d
```
